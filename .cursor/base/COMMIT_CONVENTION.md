# コミットメッセージ規約

## 概要

このプロジェクトでは、明確で一貫性のあるコミット履歴を維持するために、Conventional Commitsの規約をベースにしたコミットメッセージのルールを採用しています。

## コミットメッセージの基本構造

```
<型>[任意のスコープ]: <タイトル>

[任意の本文]

[任意のフッター]
```

### 1. 必須要素

- **型**: コミットの種類を示す接頭辞
- **タイトル**: 変更内容の簡潔な説明（72文字以内）

### 2. 任意要素

- **スコープ**: 変更の影響範囲（例: `auth`, `ui`, `api`）
- **本文**: 変更の詳細な説明
- **フッター**: 関連するIssue番号や破壊的変更の説明

## コミットの型

| 型 | 説明 | 例 |
|---|---|---|
| `feat` | 新機能の追加 | `feat: ユーザー認証機能の追加` |
| `fix` | バグ修正 | `fix: ログイン時のエラーを修正` |
| `docs` | ドキュメントのみの変更 | `docs: READMEの更新` |
| `style` | コードの意味に影響しない変更（空白、フォーマット等） | `style: インデントの修正` |
| `refactor` | バグ修正や機能追加のないコードの改善 | `refactor: 認証処理のリファクタリング` |
| `perf` | パフォーマンス改善のための変更 | `perf: クエリの最適化` |
| `test` | テストの追加・修正 | `test: ユーザー登録のテストを追加` |
| `chore` | ビルドプロセスやツールの変更 | `chore: パッケージの更新` |

## 破壊的変更の表記

破壊的変更（APIの互換性を破壊する変更）を含む場合は、以下のいずれかの方法で表記します：

1. 型の後に`!`を付ける：
```
feat!: 認証APIの仕様変更
```

2. フッターに`BREAKING CHANGE:`を記載：
```
feat: 認証APIの仕様変更

BREAKING CHANGE: トークンの形式を変更
```

## 実践的なコミット例

### 1. 新機能追加
```
feat(auth): パスワードリセット機能の追加

- メールアドレスによるパスワードリセット機能を実装
- リセットトークンの有効期限を24時間に設定

Refs: #123
```

### 2. バグ修正
```
fix(ui): モバイル表示時のレイアウト崩れを修正

- ヘッダーのレスポンシブ対応
- メニューボタンの表示位置調整

Closes: #456
```

### 3. リファクタリング
```
refactor(api): ユーザー認証処理の改善

- 認証ロジックを別クラスに分離
- エラーハンドリングの統一
```

## その他のルール

1. タイトルは命令形で書く（"Add feature" など）
2. タイトルの末尾にピリオドを付けない
3. 本文は必要な場合のみ記載し、変更の理由や詳細を説明
4. 関連するIssueやPRは必ずフッターに記載

## コミットメッセージの例外

緊急のホットフィックスや小さな変更の場合でも、最低限「型」と「タイトル」は必ず含めてください。

## 自動化ツール

コミットメッセージの品質を保つため、以下のツールの使用を推奨します：

- commitlint: コミットメッセージのバリデーション
- commitizen: 対話形式でのコミットメッセージ作成

## 参考

- [Conventional Commits](https://www.conventionalcommits.org/ja/v1.0.0/) 