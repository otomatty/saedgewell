{"version":3,"sources":["../../src/makerkit/page.tsx"],"names":["Children"],"mappings":"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","file":"page.mjs","sourcesContent":["import * as React from 'react';\n\nimport { cn } from '../lib/utils';\nimport { Separator } from '../shadcn/separator';\nimport { SidebarTrigger } from '../shadcn/sidebar';\nimport { If } from './if';\n\nexport type PageLayoutStyle = 'sidebar' | 'header' | 'custom';\n\ntype PageProps = React.PropsWithChildren<{\n  style?: PageLayoutStyle;\n  contentContainerClassName?: string;\n  className?: string;\n  sticky?: boolean;\n}>;\n\nconst ENABLE_SIDEBAR_TRIGGER = process.env.NEXT_PUBLIC_ENABLE_SIDEBAR_TRIGGER\n  ? process.env.NEXT_PUBLIC_ENABLE_SIDEBAR_TRIGGER === 'true'\n  : true;\n\nexport function Page(props: PageProps) {\n  switch (props.style) {\n    case 'header':\n      return <PageWithHeader {...props} />;\n\n    case 'custom':\n      return props.children;\n\n    default:\n      return <PageWithSidebar {...props} />;\n  }\n}\n\nfunction PageWithSidebar(props: PageProps) {\n  const { Navigation, Children, MobileNavigation } = getSlotsFromPage(props);\n\n  return (\n    <div className={cn('flex min-w-0 flex-1', props.className)}>\n      {Navigation}\n\n      <div\n        className={\n          props.contentContainerClassName ??\n          'mx-auto flex h-screen w-full flex-col overflow-y-auto bg-inherit'\n        }\n      >\n        {MobileNavigation}\n\n        <div\n          className={\n            'bg-background flex flex-1 flex-col overflow-y-auto px-4 lg:px-0'\n          }\n        >\n          {Children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function PageMobileNavigation(\n  props: React.PropsWithChildren<{\n    className?: string;\n  }>\n) {\n  return (\n    <div\n      className={cn(\n        'flex w-full items-center border-b px-4 py-2 lg:hidden lg:px-0',\n        props.className\n      )}\n    >\n      {props.children}\n    </div>\n  );\n}\n\nfunction PageWithHeader(props: PageProps) {\n  const { Navigation, Children, MobileNavigation } = getSlotsFromPage(props);\n\n  return (\n    <div className={cn('flex h-screen flex-1 flex-col', props.className)}>\n      <div\n        className={\n          props.contentContainerClassName ?? 'flex flex-1 flex-col space-y-4'\n        }\n      >\n        <div\n          className={cn(\n            'bg-muted/40 dark:border-border dark:shadow-primary/10 flex h-14 items-center justify-between px-4 lg:justify-start lg:shadow-xs',\n            {\n              'sticky top-0 z-10 backdrop-blur-md': props.sticky ?? true,\n            }\n          )}\n        >\n          <div\n            className={'hidden w-full flex-1 items-center space-x-8 lg:flex'}\n          >\n            {Navigation}\n          </div>\n\n          {MobileNavigation}\n        </div>\n\n        <div className={'container flex flex-1 flex-col'}>{Children}</div>\n      </div>\n    </div>\n  );\n}\n\nexport function PageBody(\n  props: React.PropsWithChildren<{\n    className?: string;\n  }>\n) {\n  const className = cn('flex w-full flex-1 flex-col lg:px-4', props.className);\n\n  return <div className={className}>{props.children}</div>;\n}\n\nexport function PageNavigation(props: React.PropsWithChildren) {\n  return <div className={'flex-1 bg-inherit'}>{props.children}</div>;\n}\n\nexport function PageDescription(props: React.PropsWithChildren) {\n  return (\n    <div className={'flex h-6 items-center'}>\n      <div className={'text-muted-foreground text-xs leading-none font-normal'}>\n        {props.children}\n      </div>\n    </div>\n  );\n}\n\nexport function PageTitle(props: React.PropsWithChildren) {\n  return (\n    <h1\n      className={\n        'font-heading text-base leading-none font-bold tracking-tight dark:text-white'\n      }\n    >\n      {props.children}\n    </h1>\n  );\n}\n\nexport function PageHeaderActions(props: React.PropsWithChildren) {\n  return <div className={'flex items-center space-x-2'}>{props.children}</div>;\n}\n\nexport function PageHeader({\n  children,\n  title,\n  description,\n  className,\n  displaySidebarTrigger = ENABLE_SIDEBAR_TRIGGER,\n}: React.PropsWithChildren<{\n  className?: string;\n  title?: string | React.ReactNode;\n  description?: string | React.ReactNode;\n  displaySidebarTrigger?: boolean;\n}>) {\n  return (\n    <div\n      className={cn(\n        'flex items-center justify-between py-5 lg:px-4',\n        className\n      )}\n    >\n      <div className={'flex flex-col gap-y-2'}>\n        <div className=\"flex items-center gap-x-2.5\">\n          {displaySidebarTrigger ? (\n            <SidebarTrigger className=\"text-muted-foreground hover:text-secondary-foreground hidden h-4.5 w-4.5 cursor-pointer lg:inline-flex\" />\n          ) : null}\n\n          <If condition={description}>\n            <If condition={displaySidebarTrigger}>\n              <Separator\n                orientation=\"vertical\"\n                className=\"hidden h-4 w-px lg:group-data-[minimized]:block\"\n              />\n            </If>\n\n            <PageDescription>{description}</PageDescription>\n          </If>\n        </div>\n\n        <If condition={title}>\n          <PageTitle>{title}</PageTitle>\n        </If>\n      </div>\n\n      {children}\n    </div>\n  );\n}\n\nfunction getSlotsFromPage(props: React.PropsWithChildren) {\n  return React.Children.toArray(props.children).reduce<{\n    Children: React.ReactElement | null;\n    Navigation: React.ReactElement | null;\n    MobileNavigation: React.ReactElement | null;\n  }>(\n    (acc, child) => {\n      if (!React.isValidElement(child)) {\n        return acc;\n      }\n\n      if (child.type === PageNavigation) {\n        acc.Navigation = child;\n        return acc;\n      }\n\n      if (child.type === PageMobileNavigation) {\n        acc.MobileNavigation = child;\n        return acc;\n      }\n\n      acc.Children = child;\n      return acc;\n    },\n    {\n      Children: null,\n      Navigation: null,\n      MobileNavigation: null,\n    }\n  );\n}\n"]}